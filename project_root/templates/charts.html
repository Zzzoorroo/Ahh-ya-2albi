{% extends "base.html" %}
{% block content %}

<h1>Charts for {{ filename }}</h1>

<div id="chart-container"></div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
    const charts = {{ charts | tojson }};

    charts.forEach((chart, index) => {
        const canvas = document.createElement("canvas");
        canvas.id = 'chart' + index;
        document.getElementById("chart-container").appendChild(canvas);
        canvas.id = 'chart' + index;
        document.getElementById("chart-container").appendChild(canvas);

        new Chart(canvas, {
            type: "line",
            data: {
                labels: chart.labels,
                datasets: [{
                    label: chart.title,
                    data: chart.value,
                    borderWidth: 2
                }]
            }
        });
    });

</script>

{% endblock %}